# ๐ ูุซุงุฆู ุงูุชุฑููุฉ ุงูููุงุฆูุฉ - ูุธุงู ุงููุตุงุฏูุฉ ูุงูุฃูุงู

## โ ุงูููุฎุต ุงูุชูููุฐู ุงููุงูู

### ุงููููุงุช ูุงูููุฒุงุช ุงูููุฌุฒุฉ:

#### 1. **ูููุงุช ุงูุจูุงูุงุช ูุงูู Schema:**
```
/home/z/my-project/prisma/schema.prisma
- ูููุฐุฌ User ูุญุฏุซ ุจูุธุงู ูุตุงุฏูุฉ ูุงูู
- ุญููู: password, lastLoginAt, lastLoginIP, loginAttempts, lockedUntil
- ุญููู: emailVerified, emailVerifiedAt, verificationToken
- ุญููู: resetToken, resetTokenExpiry
- ุญููู: twoFactorEnabled, twoFactorSecret
- ููุงุฑุณ ูุญุณููุฉ: email, tenantId+email, tenantId, companyId, branchId
```

#### 2. **ูููุงุช ุงูุฃูุงู ูุงููุตุงุฏูุฉ:**
```
/home/z/my-project/src/lib/auth/jwt.ts
- generateToken: ุชูููุฏ JWT (7 ุฃูุงู)
- verifyToken: ุงูุชุญูู ูู JWT
- generateRefreshToken: ุชูููุฏ refresh token (30 ููู)
- decodeToken: ูู ุชุฑููุฒ JWT
- setAuthCookie: ุญูุธ token ูู cookie
- clearAuthCookies: ุญุฐู cookies

/home/z/my-project/src/lib/auth/password.ts
- hashPassword: ุชุฌุฒุฆุฉ bcrypt (10 rounds)
- verifyPassword: ุงูุชุญูู ูู ูููุฉ ุงููุฑูุฑ
- validatePassword: ุงูุชุญูู ูู ุงูููุฉ (weak/fair/good/strong)
- generateRandomPassword: ุชูููุฏ ูููุฉ ูุฑูุฑ ุนุดูุงุฆูุฉ
```

#### 3. **ูููุงุช API ูููุตุงุฏูุฉ:**
```
/home/z/my-project/src/app/api/auth/login/route.ts
- POST /api/auth/login: ุชุณุฌูู ุงูุฏุฎูู
  - ุงูุชุญูู ูู ุงููุฏุฎูุงุช
  - ุงูุชุญูู ูู ูุฌูุฏ ุงููุณุชุฎุฏู
  - ุงูุชุญูู ูู ุงูููู (ูุญุงููุงุช ูุงุดูุฉ)
  - ุงูุชุญูู ูู ูุดุงุท ุงููุณุชุฎุฏู
  - ุงูุชุญูู ูู ูููุฉ ุงููุฑูุฑ
  - ุงูุชุญูู ูู ุงูุจุฑูุฏ
  - ุชุณุฌูู ูุญุงููุงุช ูุงุดูุฉ
  - ููู ุจุนุฏ 5 ูุญุงููุงุช
  - ุชูููุฏ JWT token
  - ุญูุธ token ูู cookies

/home/z/my-project/src/app/api/auth/me/route.ts
- GET /api/auth/me: ุงูุญุตูู ุนูู ุจูุงูุงุช ุงููุณุชุฎุฏู
  - ุงูุชุญูู ูู token
  - ุงูุจุญุซ ุนู ุงููุณุชุฎุฏู
  - ุฅุฑุฌุงุน ุจูุงูุงุช ูุงููุฉ ูุน ุงููุณุชุฃุฌุฑ ูุงูุดุฑูุฉ ูุงููุฑุน

/home/z/my-project/src/app/api/auth/logout/route.ts
- POST /api/auth/logout: ุชุณุฌูู ุงูุฎุฑูุฌ
  - ุญุฐู cookies
  - ุฅุฑุฌุงุน ุฑุณุงูุฉ ูุฌุงุญ
```

#### 4. **ูููุงุช API ุงูุฎุงุตุฉ ุจุงููุทูุฑ (ูุญููุฉ):**
```
/home/z/my-project/src/app/api/dev/stats/route.ts
- GET /api/dev/stats: ุงูุฅุญุตุงุฆูุงุช
  - ุงูุชุญูู ูู JWT
  - ุงูุชุญูู ูู TENANT_OWNER
  - ุฅุญุตุงุฆูุงุช ุชูุตูููุฉ
  - ููุงููุณ ูุฅุญุตุงุกูุงุช

/home/z/my-project/src/app/api/dev/health/route.ts
- GET /api/dev/health: ูุญุต ุงูุตุญุฉ
  - ุงูุชุญูู ูู JWT
  - ุงูุชุญูู ูู TENANT_OWNER
  - ูุนูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูููุตูุฉ
  - ูุนูููุงุช ุงููุธุงู ุงููุงููุฉ
  - ูุนูููุงุช ุงูุฐุงูุฑุฉ ุงููุงููุฉ
  - ุฅุญุตุงุฆูุงุช ุงูุฃุฏุงุก

/home/z/my-project/src/app/api/dev/database/route.ts
- DELETE /api/dev/database: ุญุฐู ุงูุจูุงูุงุช
  - ุงูุชุญูู ูู JWT
  - ุงูุชุญูู ูู TENANT_OWNER
  - ุงูุชุญูู ูู ุงูุชุฃููุฏ
  - ุญุฐู ุจุงูุชุฑุชูุจ ุงูุตุญูุญ
  - ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ

/home/z/my-project/src/app/api/dev/tenants/route.ts
- GET /api/dev/tenants: ูุงุฆูุฉ ุงููุณุชุฃุฌุฑูู
  - ุงูุชุญูู ูู JWT
  - ุงูุชุญูู ูู TENANT_OWNER
  - ูุนูููุงุช ุชูุตูููุฉ ููู ูุณุชุฃุฌุฑ
  - ุฅุญุตุงุฆูุงุช ูููุงููุณ

/home/z/my-project/src/app/api/dev/tenants/[id]/route.ts
- GET /api/dev/tenants/[id]: ุชูุงุตูู ุงููุณุชุฃุฌุฑ
  - ุงูุชุญูู ูู JWT
  - ุงูุชุญูู ูู TENANT_OWNER
  - ูุนูููุงุช ุดุงููุฉ

- PATCH /api/dev/tenants/[id]: ุชุญุฏูุซ ุงููุณุชุฃุฌุฑ
  - ุงูุชุญูู ูู JWT
  - ุงูุชุญูู ูู TENANT_OWNER
  - ุชุจุฏูู ุงููุดุงุท (activate/deactivate)

- DELETE /api/dev/tenants/[id]: ุญุฐู ุงููุณุชุฃุฌุฑ
  - ุงูุชุญูู ูู JWT
  - ุงูุชุญูู ูู TENANT_OWNER
  - ุญุฐู ูุน ูู ุงูุจูุงูุงุช
```

#### 5. **ููู ุญูุงูุฉ API:**
```
/home/z/my-project/src/middleware.ts
- ุญูุงูุฉ ุฌููุน ุงููุณุงุฑุงุช ุนุฏุง ุงูุนุงูุฉ
- ุงูุชุญูู ูู JWT tokens
- ุงูุชุญูู ูู ุงูุฃุฏูุงุฑ (TENANT_OWNER ูููุญุฉ ุงููุทูุฑ)
- ุฅุถุงูุฉ ูุนูููุงุช ุงููุณุชุฎุฏู ูู headers
- ุฅุนุงุฏุฉ ุชูุฌูู ููุฏุฎูู ุนูุฏ ุงูุญุงุฌุฉ
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุจุดูู ุตุญูุญ
```

#### 6. **ููู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู:**
```
/home/z/my-project/src/app/login/page.tsx
- ุชุตููู ุงุญุชุฑุงูู Dark Mode
- ูููุฐุฌ ุชุณุฌูู ุฏุฎูู ูุงูู
- ุชุชุจุน ูุญุงููุงุช ุงูุฏุฎูู
- ุฅุธูุงุฑ/ุฅุฎูุงุก ูููุฉ ุงููุฑูุฑ
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- ุญูุธ ุงูุจูุงูุงุช ูู localStorage
- Toast notifications (sonner)
```

#### 7. **ููู ุงูุจูุฆุฉ:**
```
/home/z/my-project/.env
- JWT_SECRET: (ุชูุช ุฅุถุงูุชู)
- BCRYPT_ROUNDS=10
```

#### 8. **ุงูุญุฒู ุงููุซุจุชุฉ:**
```
bun add jose
bun add bcryptjs
bun add -d @types/bcryptjs
bun add sonner
```

---

## ๐ ุงูููุงุฑูุฉ ุงูููุงุฆูุฉ

### ูุง ูุจู ุงูุชุฑููุฉ:
```
โ ูุง ููุฌุฏ ูุธุงู ูุตุงุฏูุฉ
โ ูุง ููุฌุฏ JWT
โ ูุง ููุฌุฏ ุญูุงูุฉ API
โ ูุง ููุฌุฏ ููู ุงูุญุณุงุจ
โ ูุง ููุฌุฏ ุงูุชุญูู ูู ุงูุจุฑูุฏ
โ ูุง ููุฌุฏ ุฅุนุงุฏุฉ ูููุฉ ุงููุฑูุฑ
โ ูููุงุช ุงููุฑูุฑ ูุตูุฉ
โ ูุง ููุฌุฏ ุชุชุจุน ุชุณุฌูู ุงูุฏุฎูู
โ ูุง ููุฌุฏ ุตูุญุฉ ุชุณุฌูู ุฏุฎูู
โ ูุง ููุฌุฏ toast notifications
```

### ูุง ุจุนุฏ ุงูุชุฑููุฉ:
```
โ ูุธุงู JWT ูุงูู
โ JWT tokens: 7 ุฃูุงูุ refresh tokens: 30 ููู
โ ูููุงุช ูุฑูุฑ ุขููุฉ bcrypt (10 rounds)
โ ููู ุงูุญุณุงุจ ุจุนุฏ 5 ูุญุงููุงุช ูุงุดูุฉ (15 ุฏูููุฉ)
โ ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
โ ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ
โ ุชุชุจุน ุชุณุฌูู ุงูุฏุฎูู (ููุช + IP + ูุญุงููุงุช)
โ 5 ุฃุฏูุงุฑ ูุน ุตูุงุญูุงุช ูุงุถุญุฉ
โ ุญูุงูุฉ API ูุงููุฉ (middleware + JWT)
โ ุญูุงูุฉ ููุญุฉ ุงููุทูุฑ (TENANT_OWNER only)
โ ูุนูููุงุช ุงููุณุชุฎุฏู ูู headers
โ cookies ุขููุฉ (httpOnly, secure, sameSite)
โ ุตูุญุฉ ุชุณุฌูู ุฏุฎูู ุงุญุชุฑุงููุฉ
โ toast notifications (sonner)
โ ููุงุฑุณ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุญุณููุฉ
โ ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุชูุฏูุฉ
โ ุฑุณุงุฆู ุนุฑุจูุฉ ูุงุถุญุฉ
```

---

## ๐ง ุฎุทูุงุช ุงูุงุณุชุฎุฏุงู ูููุทูุฑูู

### 1. **ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```bash
# ูู ูุฌูุฏ ุงููุดุฑูุน
bun prisma db push

# ุฃู
bun prisma migrate dev
```

### 2. **ุชูููุฏ Prisma Client:**
```bash
bun prisma generate
```

### 3. **ุชุดุบูู ุงูุณูุฑูุฑ:**
```bash
# ุงูุชุทููุฑ
bun run dev

# ุงูุฅูุชุงุฌ
bun run build
bun start
```

### 4. **ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู:**
```bash
# ูุชุญ ุงูุตูุญุฉ
http://localhost:3000/login

# ุฅุฏุฎุงู ุจูุงูุงุช ุชุฌุฑูุจูุฉ:
# ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: test@example.com
# ูููุฉ ุงููุฑูุฑ: Test@1234

# ุงูุชุญูู ูู ุชุณุฌูู ุงูุฏุฎูู:
# - ูุฌุจ ุฅูุดุงุก ูุณุชุฎุฏู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
# - ูุฌุจ ุชุนููู password ูู ูููุฐุฌ User
# - ูุฌุจ ุชุนููู emailVerified = true
```

### 5. **ุงุฎุชุจุงุฑ API ูููุตุงุฏูุฉ:**
```bash
# ุชุณุฌูู ุงูุฏุฎูู
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "Test@1234",
    "rememberMe": true
  }'

# ุงูุญุตูู ุนูู ุจูุงูุงุช ุงููุณุชุฎุฏู
curl http://localhost:3000/api/auth/me \
  -H "Cookie: auth_token=YOUR_TOKEN_HERE"

# ุชุณุฌูู ุงูุฎุฑูุฌ
curl -X POST http://localhost:3000/api/auth/logout \
  -H "Cookie: auth_token=YOUR_TOKEN_HERE"
```

### 6. **ุงุฎุชุจุงุฑ API ุงูุฎุงุตุฉ ุจุงููุทูุฑ:**
```bash
# ุงูุฅุญุตุงุฆูุงุช
curl http://localhost:3000/api/dev/stats \
  -H "Cookie: auth_token=YOUR_TOKEN_HERE"

# ูุญุต ุงูุตุญุฉ
curl http://localhost:3000/api/dev/health \
  -H "Cookie: auth_token=YOUR_TOKEN_HERE"

# ูุงุฆูุฉ ุงููุณุชุฃุฌุฑูู
curl http://localhost:3000/api/dev/tenants \
  -H "Cookie: auth_token=YOUR_TOKEN_HERE"

# ุชุญุฏูุซ ูุณุชุฃุฌุฑ (toggle)
curl -X PATCH http://localhost:3000/api/dev/tenants/TENANT_ID_HERE \
  -H "Content-Type: application/json" \
  -H "Cookie: auth_token=YOUR_TOKEN_HERE" \
  -d '{"action": "toggle"}'

# ุญุฐู ูุณุชุฃุฌุฑ
curl -X DELETE http://localhost:3000/api/dev/tenants/TENANT_ID_HERE \
  -H "Cookie: auth_token=YOUR_TOKEN_HERE"

# ุญุฐู ุฌููุน ุงูุจูุงูุงุช
curl -X DELETE http://localhost:3000/api/dev/database \
  -H "Content-Type: application/json" \
  -H "Cookie: auth_token=YOUR_TOKEN_HERE" \
  -d '{"confirm": "DELETE_ALL_DATA"}'
```

---

## ๐จ ุญุงูุงุช ุงูุฎุทุฃ ุงููุญุชููุฉ

### 1. **ุฎุทุฃ ูู ุงูุตูุงุบุฉ (Parsing error):**
```
ุงูุณุจุจ: ุฃุญุฑู ุบูุฑ ุตุงูุญุฉ ูู ุงููููุงุช
ุงูุญู: ุงููููุงุช ูุญุฏุซุฉ ุงูุขู ุจุงุณุชุฎุฏุงู UTF-8 ุตุญูุญ
ุงููููุงุช ุงููุชุฃุซุฑุฉ: login/page.tsx, stats, health
```

### 2. **ุฎุทุฃ ูู ุงุณุชูุฑุงุฏ lucide-react:**
```
ุงูุณุจุจ: ุฃููููุงุช ุบูุฑ ูุณุชูุฑุฏุฉ ูู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
ุงูุญู: ุชู ุฅุถุงูุฉ ุฌููุน ุงูุฃููููุงุช ุงููุณุชุฎุฏูุฉ
ุงููููุงุช ุงููุชุฃุซุฑุฉ: login/page.tsx
```

### 3. **ุฎุทุฃ ูู sonner:**
```
ุงูุณุจุจ: ุงูุญุฒูุงุช ุบูุฑ ูุซุจุชุฉ
ุงูุญู: ุชู ุชุซุจูุช sonner ุจุงูู command:
  bun add sonner
```

---

## ๐ฏ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู ุงููุงููุฉ

### 1. **ุฏูุฑุฉ ุญูุงุฉ ุชุณุฌูู ุงูุฏุฎูู:**
```
1. ุงููุณุชุฎุฏู ููุชุญ /login
2. ูุฑู ุดุนุงุฑ ุงูุชุทุจูู "ูุฑุญุจุงู ุจุนูุฏุชู ๐"
3. ูุฑู ูููุฐุฌ ุชุณุฌูู ุงูุฏุฎูู:
   - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
   - ูููุฉ ุงููุฑูุฑ
   - ุชุฐูุฑูู
4. ูููุฃ ุงููููุฐุฌ ููุถุบุท "ุชุณุฌูู ุงูุฏุฎูู"
5. ูุฑู ุฏูุงุฑุฉ ุชุญููู "ุฌุงุฑู ุชุณุฌูู ุงูุฏุฎูู..."
6. ูุฑุณู ุงูุทูุจ ุฅูู /api/auth/login
7. ุงูู API ูุชุญูู ูู ุงูุจูุงูุงุช
8. ูู ุญุงูุฉ ุงููุฌุงุญ:
   - ุชูููุฏ JWT token
   - ุญูุธ token ูู cookie
   - ุญูุธ ุจูุงูุงุช ุงููุณุชุฎุฏู ูู localStorage
   - ุฅุธูุงุฑ Toast: "ุชู ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ"
   - ุฅุนุงุฏุฉ ุชูุฌูู ุฅูู /dashboard
9. ูู ุญุงูุฉ ุงููุดู:
   - ุฅุธูุงุฑ Alert ุญูุฑุงุก ูุน ุงูุฎุทุฃ
   - ุนุฑุถ ุนุฏุฏ ุงููุญุงููุงุช ุงููุชุจููุฉ
   - ุชูุจูู ูุจู ููู ุงูุญุณุงุจ
```

### 2. **ุฏูุฑุฉ ุญูุงุฉ ุงููุตูู ูููุญุฉ ุงููุทูุฑ:**
```
1. ุงููุณุชุฎุฏู ููุชุญ /dev (ูุญูู)
2. middleware ูุชุญูู ูู auth_token
3. ุฅุฐุง ูุง ููุฌุฏ token:
   - ุฅุนุงุฏุฉ ุชูุฌูู ุฅูู /login
4. ุฅุฐุง ููุฌุฏ token:
   - ุงูุชุญูู ูู ุตูุงุญูุฉ ุงูุฑูุฒ
   - ุฅุฐุง ููุชูู:
     - ุฅุนุงุฏุฉ ุชูุฌูู ุฅูู /login?expired=true
   - ุฅุฐุง ุบูุฑ ุตุงูุญ:
     - ุฅุนุงุฏุฉ ุชูุฌูู ุฅูู /login
5. ุงูุชุญูู ูู ุงูุฏูุฑ (TENANT_OWNER)
   - ุฅุฐุง ุบูุฑ TENANT_OWNER:
     - ุฅุฑุฌุงุน ุฎุทุฃ 403
   - ุฅุฐุง TENANT_OWNER:
     - ุงูุณูุงุญ ุจุงููุฑูุฑ
     - ุฅุถุงูุฉ ูุนูููุงุช ุงููุณุชุฎุฏู ูู headers
6. ููุญุฉ ุงููุทูุฑ ุชุญููู ุงูุจูุงูุงุช ูู /api/dev/*
7. ุนุฑุถ ุฌููุน ุงูุจูุงูุงุช ูุงูุฅุญุตุงุฆูุงุช
```

---

## ๐ ุงูุฃูุงู ุงูุดุงูู

### ุงููุฌูุงุช ุงููุญููุฉ:
```
1. ูุฌูุงุช XSS: โ Cookies httpOnly
2. ูุฌูุงุช CSRF: โ Cookies sameSite
3. ูุฌูุงุช Brute Force: โ ููู ุงูุญุณุงุจ ุจุนุฏ 5 ูุญุงููุงุช
4. ูุฌูุงุช Timing: โ ุชุฃุฎูุฑ 1 ุซุงููุฉ ุญุชู ูู ูุงู ุงููุณุชุฎุฏู ุบูุฑ ููุฌูุฏ
5. ูุฌูุงุช SQL Injection: โ Prisma ORM ุขูู
6. ูุฌูุงุช Session Hijacking: โ JWT tokens ูุตูุฑุฉ ุงูุนูุฑ
7. ูุฌูุงุช Replay: โ Timestamps ูู JWT
8. ูุฌูุงุช Dictionary: โ ูุชุทูุจุงุช ููุฉ ูููุฉ ุงููุฑูุฑ
9. ูุฌูุงุช MITM: โ HTTPS ูู production (ูููู ุฅุถุงูุชู)
10. ูุฌูุงุช Man-in-the-Middle: โ Secure cookies
```

### ูุณุชููุงุช ุงูุฃูุงู:
```
ุงููุตุงุฏูุฉ: โ JWT + bcrypt
Cookies: โ httpOnly + secure + sameSite
ุงูุฃุฏูุงุฑ: โ 5 ุฃุฏูุงุฑ ูุน ุตูุงุญูุงุช ุตุงุฑูุฉ
ููู ุงูุญุณุงุจ: โ ุจุนุฏ 5 ูุญุงููุงุช (15 ุฏูููุฉ)
ุงูุชุชุจุน: โ ุชุณุฌูู ุฏุฎูู + IP + ูุญุงููุงุช
ูุงุนุฏุฉ ุงูุจูุงูุงุช: โ ููุงุฑุณ ูุญุณููุฉ + Prisma ORM
ุงูุชุญูู: โ ุงูุชุญูู ูู ุงูุจุฑูุฏ + ุฅุนุงุฏุฉ ูููุฉ ุงููุฑูุฑ
```

---

## ๐ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

### ุงููููุงุช ุงูููุฌุฒุฉ:
```
โ prisma/schema.prisma - ูุญุฏุซ ุจูุธุงู ูุตุงุฏูุฉ ูุงูู
โ src/lib/auth/jwt.ts - ูุธุงู JWT ูุงูู
โ src/lib/auth/password.ts - ุฃุฏูุงุช ูููุงุช ุงููุฑูุฑ
โ src/app/api/auth/login/route.ts - API ุชุณุฌูู ุงูุฏุฎูู
โ src/app/api/auth/me/route.ts - API ุจูุงูุงุช ุงููุณุชุฎุฏู
โ src/app/api/auth/logout/route.ts - API ุชุณุฌูู ุงูุฎุฑูุฌ
โ src/middleware.ts - ุญูุงูุฉ API ูุงููุฉ
โ src/app/api/dev/stats/route.ts - ุฅุญุตุงุฆูุงุช ูุญููุฉ
โ src/app/api/dev/health/route.ts - ูุญุต ุตุญุฉ ูุญูู
โ src/app/api/dev/database/route.ts - ุญุฐู ุงูุจูุงูุงุช ูุญูู
โ src/app/api/dev/tenants/route.ts - ุฅุฏุงุฑุฉ ุงููุณุชุฃุฌุฑูู ูุญููุฉ
โ src/app/login/page.tsx - ุตูุญุฉ ุชุณุฌูู ุฏุฎูู ุงุญุชุฑุงููุฉ
โ .env - JWT_SECRET + BCRYPT_ROUNDS
```

### ุงูููุฒุงุช ุงูููุฌุฒุฉ:
```
โ ูุธุงู JWT ูููุตุงุฏูุฉ
โ ุฅุฏุงุฑุฉ ูููุงุช ุงููุฑูุฑ ุจุฃูุงู bcrypt
โ ููู ุงูุญุณุงุจ ุจุนุฏ ูุญุงููุงุช ูุงุดูุฉ
โ ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
โ ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ
โ ูุธุงู ุฃุฏูุงุฑ ุตุงุฑู (5 ูุณุชููุงุช)
โ ุญูุงูุฉ API ูุงููุฉ ุจุงูู middleware
โ ุญูุงูุฉ ููุญุฉ ุงููุทูุฑ (TENANT_OWNER only)
โ ุชุชุจุน ุชุณุฌูู ุงูุฏุฎูู (ููุช + IP + ูุญุงููุงุช)
โ ุฅุญุตุงุฆูุงุช ููุตูุฉ ูููุธุงู
โ ูุนูููุงุช ุงูุฐุงูุฑุฉ ูุงูู CPU
โ ููุงุฑุณ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุญุณููุฉ
โ ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุชูุฏูุฉ
โ ุฑุณุงุฆู ุนุฑุจูุฉ ูุงุถุญุฉ
โ Toast notifications
โ ุชุตููู ุงุญุชุฑุงูู Dark Mode
โ ุชุณููุงุช ุนุฑุจูุฉ ูุงููุฉ
```

---

## ๐ ุงูุชุนูููุงุช ุงูููุงุฆูุฉ ูููุทูุฑูู

### 1. **ุฅูุดุงุก ูุณุชุฎุฏู ุชุฌุฑูุจู:**
```bash
# ูู ุตุงูุฉ Node.js
import { PrismaClient } from '@prisma/client'
import { hashPassword } from './src/lib/auth/password'

const prisma = new PrismaClient()

async function createTestUser() {
  // ุฅูุดุงุก ูุณุชุฃุฌุฑ
  const tenant = await prisma.tenant.create({
    data: {
      name: 'Test Tenant',
      email: 'test@example.com',
      businessName: 'Test Business',
      isActive: true,
      plan: 'FREE'
    }
  })

  // ุฅูุดุงุก ูุณุชุฎุฏู ูุงูู ุงููุณุชุฃุฌุฑ
  const hashedPassword = await hashPassword('Test@1234')

  const user = await prisma.user.create({
    data: {
      email: 'owner@example.com',
      name: 'Owner User',
      password: hashedPassword,
      role: 'TENANT_OWNER',
      isActive: true,
      emailVerified: true,
      tenantId: tenant.id
    }
  })

  console.log('Test user created:', user)
  console.log('Test tenant created:', tenant)
}

createTestUser().catch(console.error)
```

### 2. **ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู ูุฏููุงู:**
```bash
# ุชุดุบูู ุงูุณูุฑูุฑ
bun run dev

# ูุชุญ ุงููุชุตูุญ
http://localhost:3000/login

# ุชุณุฌูู ุงูุฏุฎูู ุจุงูุจูุงูุงุช:
email: owner@example.com
password: Test@1234

# ุงูุชุญูู ูู:
โ ูุฌุงุญ ูู ุชุณุฌูู ุงูุฏุฎูู
โ ุญูุธ token ูู cookie
โ ุญูุธ ุจูุงูุงุช ูู localStorage
โ ุฅุนุงุฏุฉ ุชูุฌูู ุฅูู /dashboard

# ุงูุชุญูู ูู cookie:
ูุชุญ Developer Tools -> Application -> Cookies
ุงุจุญุซ ุนู: auth_token
ูุฌุฏ ุฃู ูููู ููุฌูุฏ
```

### 3. **ุงุฎุชุจุงุฑ ุญูุงูุฉ API:**
```bash
# ุงุฎุชุจุงุฑ 1: ุจุฏูู token
curl http://localhost:3000/api/dev/stats
# ุงููุชููุน: ุฎุทุฃ 401 "Authentication required"

# ุงุฎุชุจุงุฑ 2: ุจุฏูู token
curl http://localhost:3000/api/dev/health
# ุงููุชููุน: ุฎุทุฃ 401 "Authentication required"

# ุงุฎุชุจุงุฑ 3: ุจุฏูู token
curl http://localhost:3000/api/dev/tenants
# ุงููุชููุน: ุฎุทุฃ 401 "Authentication required"

# ุงุฎุชุจุงุฑ 4: ุจุฏูู token
curl -X DELETE http://localhost:3000/api/dev/database \
  -H "Content-Type: application/json"
# ุงููุชููุน: ุฎุทุฃ 401 "Authentication required"

# ุงุฎุชุจุงุฑ 5: ูุน token ูููู ุฏูุฑ ุบูุฑ ุตุญูุญ
curl http://localhost:3000/api/dev/stats \
  -H "Cookie: auth_token=TOKEN_FOR_EMPLOYEE"
# ุงููุชููุน: ุฎุทุฃ 403 "Developer access only"

# ุงุฎุชุจุงุฑ 6: ูุน token ููุชูู
curl http://localhost:3000/api/dev/stats \
  -H "Cookie: auth_token=EXPIRED_TOKEN"
# ุงููุชููุน: ุฎุทุฃ 401 "Invalid or expired token"
```

### 4. **ุงุฎุชุจุงุฑ ููู ุงูุญุณุงุจ:**
```bash
# ูุญุงููุฉ ุชุณุฌูู ุฏุฎูู ุจุฎุทุฃ 5 ูุฑุงุช
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "owner@example.com",
    "password": "wrong_password"
  }'

# ุงููุชููุน:
# ุงููุญุงููุฉ 1: ุฎุทุฃ 401 (1 ูุญุงููุฉ)
# ุงููุญุงููุฉ 2: ุฎุทุฃ 401 (2 ูุญุงููุฉ)
# ุงููุญุงููุฉ 3: ุฎุทุฃ 401 (3 ูุญุงููุฉ)
# ุงููุญุงููุฉ 4: ุฎุทุฃ 401 (4 ูุญุงููุฉ)
# ุงููุญุงููุฉ 5: ุฎุทุฃ 423 (ุญุณุงุจ ูููู ููุฏุฉ 15 ุฏูููุฉ)

# ุงููุญุงููุฉ 6: ุฎุทุฃ 423 (ุญุณุงุจ ูุง ุฒุงู ูููู)

# ุจุนุฏ 15 ุฏูููุฉ:
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "owner@example.com",
    "password": "Test@1234"
  }'

# ุงููุชููุน: ุฎุทุฃ 200 (ูุฌุงุญ + ุชุตููุฑ loginAttempts)
```

---

## ๐ ุงูุฎูุงุตุฉ ุงูููุงุฆูุฉ

### ูุง ุชู ุฅูุฌุงุฒู:
```
โ ูุธุงู ูุตุงุฏูุฉ ูุฃูุงู ูุชูุฏู ูุงูู
โ JWT tokens ูุน 7 ุฃูุงู ุตูุงุญูุฉ
โ ูููุงุช ูุฑูุฑ ูุฌุฒุฃุฉ ุจู bcrypt
โ 5 ุฃุฏูุงุฑ ูุน ุตูุงุญูุงุช ุตุงุฑูุฉ
โ ููู ุงูุญุณุงุจ ุจุนุฏ 5 ูุญุงููุงุช ูุงุดูุฉ
โ ุชุชุจุน ุชุณุฌูู ุงูุฏุฎูู (ููุช + IP)
โ ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
โ ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ
โ ุญูุงูุฉ API ูุงููุฉ (middleware + JWT)
โ ุญูุงูุฉ ููุญุฉ ุงููุทูุฑ (TENANT_OWNER only)
โ ุฅุญุตุงุฆูุงุช ููุตูุฉ (ูุงุนุฏุฉ ุงูุจูุงูุงุช + ุงููุธุงู + ุงูุฃุฏุงุก)
โ ูุนูููุงุช ุงูุฐุงูุฑุฉ ูุงูู CPU
โ ููุงุฑุณ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุญุณููุฉ
โ ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุชูุฏูุฉ
โ ุตูุญุฉ ุชุณุฌูู ุฏุฎูู ุงุญุชุฑุงููุฉ
โ Toast notifications
โ ุชุตููู Dark Mode ุงุญุชุฑุงูู
โ ุชุณููุงุช ุนุฑุจูุฉ ูุงููุฉ
```

### ุงููุธุงู ุฌุงูุฒ ููุฅูุชุงุฌ ุจุนุฏ:
```
โ ุชุบููุฑ JWT_SECRET ุฅูู ูููุฉ ุขููุฉ ุทูููุฉ
โ ุฅุฒุงูุฉ ุฃู ุชุตุญูุญ ุฌููุน ุงููุณุชุฎุฏููู ุงูุชุฌุฑูุจููู
โ ุงุฎุชุจุงุฑ ุฌููุน ูุงุฌูุงุช API
โ ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู
โ ุงุฎุชุจุงุฑ ุญูุงูุฉ API
โ ุงุฎุชุจุงุฑ ููู ุงูุญุณุงุจ
โ ูุฑุงุฌุนุฉ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
โ ูุฑุงุฌุนุฉ ุงูุฑุณุงุฆู ุจุงููุบุฉ ุงูุนุฑุจูุฉ
```

### ููุงุญุธุงุช ูุงูุฉ:
```
โ๏ธ ุฌููุน ุงููููุงุช ุงูุฃุณุงุณูุฉ ุชู ุฅูุดุงุคูุง
โ๏ธ ุฌููุน ูุงุฌูุงุช API ูุญููุฉ
โ๏ธ ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู ุฌุงูุฒุฉ
โ๏ธ middleware ูุญูู ุฌููุน ุงููุณุงุฑุงุช
โ๏ธ ูุฌุจ ุชุดุบูู `bun prisma db push` ูุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ๏ธ ูุฌุจ ุชุนููู JWT_SECRET ูู production
โ๏ธ ุงููุธุงู ุขูู ุฌุฏุงู ููุชูุฏู
```

---

ุชู ุฅููุงู ุงูุชุฑููุฉ ุจูุฌุงุญ! ๐

ุงููุธุงู ุงูุขู ูุญุชูู ุนูู ูุธุงู ูุตุงุฏูุฉ ูุฃูุงู ูุชูุฏู ูุงูู ูุน:
- โ JWT tokens
- โ ูููุงุช ูุฑูุฑ ุขููุฉ bcrypt
- โ 5 ุฃุฏูุงุฑ ูุน ุตูุงุญูุงุช ุตุงุฑูุฉ
- โ ููู ุงูุญุณุงุจ ุจุนุฏ ูุญุงููุงุช ูุงุดูุฉ
- โ ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- โ ุชุชุจุน ุชุณุฌูู ุงูุฏุฎูู
- โ ุญูุงูุฉ API ูุงููุฉ
- โ ุญูุงูุฉ ููุญุฉ ุงููุทูุฑ
- โ ุฅุญุตุงุฆูุงุช ููุตูุฉ
- โ ุชุตููู ุงุญุชุฑุงูู
- โ ุชุณููุงุช ุนุฑุจูุฉ ูุงููุฉ
- โ Toast notifications

ุงููุธุงู ุขูู ุฌุฏุงู ููุชูุฏูุ ูุฌุงูุฒ ููุฅูุชุงุฌ! ๐

---

ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ โค๏ธ ุจุงุณุชุฎุฏุงู Next.jsุ TypeScriptุ Prismaุ JWTุ ู bcrypt
