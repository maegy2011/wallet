<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Header Scrolling Fix Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .success {
            color: #16a34a;
            background: #f0fdf4;
            border: 1px solid #16a34a;
            padding: 10px;
            border-radius: 4px;
        }
        .info {
            color: #2563eb;
            background: #eff6ff;
            border: 1px solid #2563eb;
            padding: 10px;
            border-radius: 4px;
        }
        .warning {
            color: #ca8a04;
            background: #fefce8;
            border: 1px solid #ca8a04;
            padding: 10px;
            border-radius: 4px;
        }
        .fixed {
            color: #dc2626;
            background: #fef2f2;
            border: 1px solid #dc2626;
            padding: 10px;
            border-radius: 4px;
        }
        button {
            background: #2563eb;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #1d4ed8;
        }
        .demo-links {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        .demo-link {
            background: #f3f4f6;
            padding: 8px 16px;
            border-radius: 4px;
            text-decoration: none;
            color: #374151;
            border: 1px solid #d1d5db;
            transition: all 0.2s;
        }
        .demo-link:hover {
            background: #e5e7eb;
            border-color: #9ca3af;
        }
        .feature-list {
            list-style: none;
            padding: 0;
        }
        .feature-list li {
            padding: 8px 0;
            border-bottom: 1px solid #e5e7eb;
        }
        .feature-list li:before {
            content: "‚úÖ ";
            margin-right: 8px;
        }
        .admin-token {
            background: #f3f4f6;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            word-break: break-all;
            margin: 10px 0;
        }
        .code-block {
            background: #1f2937;
            color: #f9fafb;
            padding: 15px;
            border-radius: 6px;
            font-family: monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>üîß Header Menu Scrolling Fix</h1>
    
    <div class="test-section">
        <div class="fixed">
            <h2>üõ†Ô∏è Issue Fixed</h2>
            <p><strong>Problem:</strong> Header menu was not scrolling fully to sections - sections were partially hidden behind the fixed header.</p>
            <p><strong>Solution:</strong> Improved offset calculation with dynamic header height detection and added CSS scroll-padding.</p>
        </div>
    </div>

    <div class="test-section">
        <h2>‚ú® Fixes Applied</h2>
        <ul class="feature-list">
            <li>Dynamic header height calculation using <code>offsetHeight</code></li>
            <li>Added 20px extra padding for better visibility</li>
            <li>CSS <code>scroll-padding-top: 5rem</code> for browser-level scroll offset</li>
            <li>Increased page load delay from 100ms to 300ms for DOM readiness</li>
            <li>Helper function <code>getHeaderOffset()</code> for consistent offset calculation</li>
            <li>Fallback values for server-side rendering compatibility</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>üß™ Test Scenarios</h2>
        
        <h3>1. Home Page Sections</h3>
        <p>These links should scroll perfectly to sections without being hidden:</p>
        <div class="demo-links">
            <a href="http://localhost:3000/#features" target="_blank" class="demo-link">#features</a>
            <a href="http://localhost:3000/#how-it-works" target="_blank" class="demo-link">#how-it-works</a>
            <a href="http://localhost:3000/#pricing" target="_blank" class="demo-link">#pricing</a>
            <a href="http://localhost:3000/#testimonials" target="_blank" class="demo-link">#testimonials</a>
        </div>

        <h3>2. Admin Page Sections</h3>
        <p>These links should navigate and scroll to admin tabs perfectly:</p>
        <div class="demo-links">
            <a href="http://localhost:3000/admin#dashboard" target="_blank" class="demo-link">Admin Dashboard</a>
            <a href="http://localhost:3000/admin#customers" target="_blank" class="demo-link">Admin Customers</a>
            <a href="http://localhost:3000/admin#packages" target="_blank" class="demo-link">Admin Packages</a>
            <a href="http://localhost:3000/admin#settings" target="_blank" class="demo-link">Admin Settings</a>
        </div>

        <h3>3. Header Menu Navigation</h3>
        <div class="warning">
            <strong>Test Instructions:</strong>
            <ol>
                <li>Login as admin using the button below</li>
                <li>Navigate to <a href="http://localhost:3000" target="_blank">http://localhost:3000</a></li>
                <li>Click header menu items (Features, How It Works, etc.)</li>
                <li>Verify sections are NOT hidden behind the header</li>
                <li>Test admin menu items as well</li>
                <li>Try mobile menu by resizing browser</li>
            </ol>
        </div>
    </div>

    <div class="test-section">
        <h2>üîê Admin Login</h2>
        <div id="admin-status" class="info">
            Checking admin status...
        </div>
        <button onclick="loginAsAdmin()">Login as Admin</button>
        <button onclick="logoutAdmin()">Logout Admin</button>
        <div id="admin-token" class="admin-token">
            No admin token set
        </div>
    </div>

    <div class="test-section">
        <h2>üîß Technical Implementation</h2>
        
        <h3>Dynamic Header Offset Calculation</h3>
        <div class="code-block">
const getHeaderOffset = () => {
  if (typeof window === 'undefined') return 84; // Default fallback
  
  const header = document.querySelector('nav');
  if (!header) return 84; // Default fallback
  
  const headerHeight = header.offsetHeight;
  const extraPadding = 20; // Extra padding for better visibility
  return headerHeight + extraPadding;
};
        </div>

        <h3>Improved Scroll Position Calculation</h3>
        <div class="code-block">
const elementPosition = element.offsetTop - getHeaderOffset();
window.scrollTo({
  top: elementPosition,
  behavior: 'smooth'
});
        </div>

        <h3>CSS Scroll Padding</h3>
        <div class="code-block">
html {
  scroll-behavior: smooth;
  scroll-padding-top: 5rem; /* 80px - accounts for fixed header */
}
        </div>
    </div>

    <div class="test-section">
        <h2>üì± Mobile Support</h2>
        <ul class="feature-list">
            <li>Mobile menu auto-close on navigation</li>
            <li>Responsive header height detection</li>
            <li>Touch-friendly smooth scrolling</li>
            <li>Consistent offset across all devices</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>üéØ Expected Behavior</h2>
        <ul>
            <li><strong>Perfect Positioning:</strong> Section headers should be fully visible below the fixed header</li>
            <li><strong>Consistent Offset:</strong> Same spacing for all sections and pages</li>
            <li><strong>Smooth Animation:</strong> Fluid scrolling without jumping</li>
            <li><strong>Mobile Compatible:</strong> Works correctly on all screen sizes</li>
            <li><strong>Hash Navigation:</strong> Direct URLs scroll to perfect positions</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>üêõ Troubleshooting</h2>
        <div class="warning">
            <p>If scrolling still has issues:</p>
            <ul>
                <li>Check browser console for JavaScript errors</li>
                <li>Verify CSS is loading correctly</li>
                <li>Test in different browsers</li>
                <li>Clear browser cache and reload</li>
                <li>Check if custom CSS is interfering</li>
            </ul>
        </div>
    </div>

    <script>
        function loginAsAdmin() {
            const adminToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtanY5YzFhdTAwMDBtNWhxeWJzYjVld3kiLCJlbWFpbCI6Im1vaGFtZWQuYWRlbEBsYWIuY29tIiwibmFtZSI6Ik1vaGFtZWQgQWRlbCIsInJvbGUiOiJTVVBFUl9BRE1JTiIsInR3b0ZhY3RvckVuYWJsZWQiOmZhbHNlLCJpYXQiOjE3NjcyNjcwNTUsImV4cCI6MTc2NzM1MzQ1NX0.js_DMFnZM-BmGB55CGqfQ-kXyQ5zEPzu2KQ7sS_iksc';
            localStorage.setItem('adminToken', adminToken);
            document.getElementById('admin-token').textContent = adminToken;
            checkAdminStatus();
        }

        function logoutAdmin() {
            localStorage.removeItem('adminToken');
            document.getElementById('admin-token').textContent = 'No admin token set';
            checkAdminStatus();
        }

        function checkAdminStatus() {
            const adminToken = localStorage.getItem('adminToken');
            const statusDiv = document.getElementById('admin-status');
            
            if (adminToken) {
                statusDiv.innerHTML = '<div class="success">‚úÖ Admin logged in - Ready to test scrolling fix</div>';
                statusDiv.className = 'success';
            } else {
                statusDiv.innerHTML = '<div class="info">‚ùå Admin not logged in</div>';
                statusDiv.className = 'info';
            }
        }

        // Check status on page load
        checkAdminStatus();
    </script>
</body>
</html>