          <TabsContent value="database" className="space-y-6">
            {/* Database Information Card */}
            <Card className="bg-slate-800 border-slate-700">
              <CardHeader>
                <CardTitle className="text-white flex items-center gap-2">
                  <Database className="h-5 w-5 text-blue-400" />
                  معلومات قاعدة البيانات
                </CardTitle>
                <CardDescription className="text-slate-400">
                  معلومات تفصيلية عن قاعدة البيانات والاتصال
                </CardDescription>
              </CardHeader>
              <CardContent>
                <div className="space-y-6">
                  {/* Database Type and Version */}
                  <div className="grid gap-4 md:grid-cols-3">
                    <div className="space-y-3 p-4 rounded bg-slate-700/50 border border-slate-600">
                      <div className="flex items-center gap-2 mb-2">
                        <Database className="h-4 w-4 text-blue-400" />
                        <p className="text-xs text-slate-400">نوع قاعدة البيانات</p>
                      </div>
                      <p className="text-xl font-bold text-white">SQLite</p>
                      <Badge variant="outline" className="text-xs">File-based</Badge>
                    </div>
                    <div className="space-y-3 p-4 rounded bg-slate-700/50 border border-slate-600">
                      <div className="flex items-center gap-2 mb-2">
                        <Server className="h-4 w-4 text-blue-400" />
                        <p className="text-xs text-slate-400">إصدار SQLite</p>
                      </div>
                      <p className="text-xl font-bold text-white">3.x</p>
                      <Badge variant="outline" className="text-xs">Latest</Badge>
                    </div>
                    <div className="space-y-3 p-4 rounded bg-slate-700/50 border border-slate-600">
                      <div className="flex items-center gap-2 mb-2">
                        <Activity className="h-4 w-4 text-blue-400" />
                        <p className="text-xs text-slate-400">حالة الاتصال</p>
                      </div>
                      <div className="flex items-center gap-2">
                        <CheckCircle2 className="h-5 w-5 text-emerald-400" />
                        <p className="text-xl font-bold text-white">نشط</p>
                      </div>
                      <Badge variant="outline" className="text-xs">1 Connection</Badge>
                    </div>
                  </div>

                  {/* Database File Information */}
                  <div className="space-y-3 p-4 rounded bg-slate-700/50 border border-slate-600">
                    <div className="flex items-center gap-2 mb-4">
                      <FileText className="h-5 w-5 text-purple-400" />
                      <h4 className="text-white font-semibold">معلومات ملف قاعدة البيانات</h4>
                    </div>
                    <div className="grid gap-4 md:grid-cols-2">
                      <div>
                        <p className="text-xs text-slate-400 mb-1">مسار الملف</p>
                        <p className="text-sm text-slate-300 font-mono bg-slate-800 p-2 rounded">
                          /prisma/dev.db
                        </p>
                      </div>
                      <div>
                        <p className="text-xs text-slate-400 mb-1">حجم الملف</p>
                        <div className="flex items-center gap-2">
                          <p className="text-sm text-slate-300">
                            <span className="font-semibold text-white">0 MB</span>
                          </p>
                        </div>
                      </div>
                      <div>
                        <p className="text-xs text-slate-400 mb-1">الحجم (Bytes)</p>
                        <p className="text-sm text-slate-300 font-mono">0 B</p>
                      </div>
                      <div>
                        <p className="text-xs text-slate-400 mb-1">الحجم (GB)</p>
                        <p className="text-sm text-slate-300 font-mono">0 GB</p>
                      </div>
                    </div>
                  </div>

                  {/* Connection Information */}
                  <div className="space-y-3 p-4 rounded bg-slate-700/50 border border-slate-600">
                    <div className="flex items-center gap-2 mb-4">
                      <Settings className="h-5 w-5 text-blue-400" />
                      <h4 className="text-white font-semibold">معلومات الاتصال</h4>
                    </div>
                    <div className="grid gap-4 md:grid-cols-2">
                      <div>
                        <p className="text-xs text-slate-400 mb-1">النوع</p>
                        <p className="text-sm text-slate-300">File</p>
                      </div>
                      <div>
                        <p className="text-xs text-slate-400 mb-1">الرابط (URL)</p>
                        <p className="text-sm text-slate-300 font-mono bg-slate-800 p-2 rounded">
                          file:./prisma/dev.db
                        </p>
                      </div>
                      <div>
                        <p className="text-xs text-slate-400 mb-1">حالة Connection Pool</p>
                        <Badge variant="default">Active</Badge>
                      </div>
                      <div>
                        <p className="text-xs text-slate-400 mb-1">عدد الاتصالات</p>
                        <p className="text-sm text-white font-semibold">1</p>
                      </div>
                    </div>
                  </div>

                  {/* Total Records */}
                  <div className="space-y-3 p-4 rounded bg-gradient-to-r from-blue-900/30 to-purple-900/30 border border-blue-500/30">
                    <div className="flex items-center justify-between mb-2">
                      <div className="flex items-center gap-2">
                        <Activity className="h-5 w-5 text-blue-400" />
                        <h4 className="text-white font-semibold">إجمالي السجلات</h4>
                      </div>
                      <div className="flex items-center gap-2">
                        <RefreshCw className="h-4 w-4 text-slate-400" />
                        <p className="text-xs text-slate-400">
                          آخر تحديث: {stats?.timestamp ? formatDate(stats.timestamp) : '-'}
                        </p>
                      </div>
                    </div>
                    <div className="flex items-center gap-3">
                      <p className="text-4xl font-bold text-white">
                        {(stats?.counts.tenants || 0) +
                         (stats?.counts.companies || 0) +
                         (stats?.counts.branches || 0) +
                         (stats?.counts.users || 0) +
                         (stats?.counts.wallets || 0) +
                         (stats?.counts.transactions || 0) +
                         (stats?.counts.categories || 0) +
                         (stats?.counts.partners || 0)}
                      </p>
                      <Badge variant="outline" className="text-xs">
                        سجل في قاعدة البيانات
                      </Badge>
                    </div>
                  </div>
                </div>
              </CardContent>
            </Card>

            {/* Records Details Card */}
            <Card className="bg-slate-800 border-slate-700">
              <CardHeader>
                <CardTitle className="text-white">تفاصيل السجلات</CardTitle>
                <CardDescription className="text-slate-400">
                  عدد السجلات لكل نموذج بيانات
                </CardDescription>
              </CardHeader>
              <CardContent>
                <div className="grid gap-3 md:grid-cols-2 lg:grid-cols-4">
                  {/* Tenants */}
                  <div className="p-4 rounded bg-slate-700/50 border border-slate-600 hover:border-blue-500 transition-colors">
                    <div className="flex items-center justify-between mb-2">
                      <div className="flex items-center gap-2">
                        <div className="h-8 w-8 rounded bg-blue-500/20 flex items-center justify-center">
                          <Building2 className="h-4 w-4 text-blue-400" />
                        </div>
                        <p className="text-sm text-slate-400">المستأجرون</p>
                      </div>
                      <Badge variant="outline" className="text-xs">Entity</Badge>
                    </div>
                    <p className="text-2xl font-bold text-white">{stats?.counts.tenants || 0}</p>
                    <div className="mt-2 pt-2 border-t border-slate-600">
                      <div className="flex justify-between text-xs">
                        <span className="text-slate-400">نشط</span>
                        <span className="text-emerald-400">{stats?.plans.active || 0}</span>
                      </div>
                      <div className="flex justify-between text-xs mt-1">
                        <span className="text-slate-400">غير نشط</span>
                        <span className="text-red-400">{stats?.plans.inactive || 0}</span>
                      </div>
                    </div>
                  </div>

                  {/* Companies */}
                  <div className="p-4 rounded bg-slate-700/50 border border-slate-600 hover:border-emerald-500 transition-colors">
                    <div className="flex items-center justify-between mb-2">
                      <div className="flex items-center gap-2">
                        <div className="h-8 w-8 rounded bg-emerald-500/20 flex items-center justify-center">
                          <Briefcase className="h-4 w-4 text-emerald-400" />
                        </div>
                        <p className="text-sm text-slate-400">الشركات</p>
                      </div>
                      <Badge variant="outline" className="text-xs">Entity</Badge>
                    </div>
                    <p className="text-2xl font-bold text-white">{stats?.counts.companies || 0}</p>
                    <div className="mt-2 pt-2 border-t border-slate-600">
                      <div className="flex justify-between text-xs">
                        <span className="text-slate-400">متوسط/مستأجر</span>
                        <span className="text-white">{stats?.metrics.avgCompaniesPerTenant || '0'}</span>
                      </div>
                    </div>
                  </div>

                  {/* Branches */}
                  <div className="p-4 rounded bg-slate-700/50 border border-slate-600 hover:border-purple-500 transition-colors">
                    <div className="flex items-center justify-between mb-2">
                      <div className="flex items-center gap-2">
                        <div className="h-8 w-8 rounded bg-purple-500/20 flex items-center justify-center">
                          <Building2 className="h-4 w-4 text-purple-400" />
                        </div>
                        <p className="text-sm text-slate-400">الفروع</p>
                      </div>
                      <Badge variant="outline" className="text-xs">Entity</Badge>
                    </div>
                    <p className="text-2xl font-bold text-white">{stats?.counts.branches || 0}</p>
                    <div className="mt-2 pt-2 border-t border-slate-600">
                      <div className="flex justify-between text-xs">
                        <span className="text-slate-400">متوسط/شركة</span>
                        <span className="text-white">
                          {stats?.counts.companies > 0 
                            ? (stats?.counts.branches / stats?.counts.companies).toFixed(1) 
                            : '0'}
                        </span>
                      </div>
                    </div>
                  </div>

                  {/* Users */}
                  <div className="p-4 rounded bg-slate-700/50 border border-slate-600 hover:border-amber-500 transition-colors">
                    <div className="flex items-center justify-between mb-2">
                      <div className="flex items-center gap-2">
                        <div className="h-8 w-8 rounded bg-amber-500/20 flex items-center justify-center">
                          <Users className="h-4 w-4 text-amber-400" />
                        </div>
                        <p className="text-sm text-slate-400">المستخدمون</p>
                      </div>
                      <Badge variant="outline" className="text-xs">Entity</Badge>
                    </div>
                    <p className="text-2xl font-bold text-white">{stats?.counts.users || 0}</p>
                    <div className="mt-2 pt-2 border-t border-slate-600">
                      <div className="flex justify-between text-xs">
                        <span className="text-slate-400">متوسط/مستأجر</span>
                        <span className="text-white">{stats?.metrics.avgUsersPerTenant || '0'}</span>
                      </div>
                    </div>
                  </div>

                  {/* Partners */}
                  <div className="p-4 rounded bg-slate-700/50 border border-slate-600 hover:border-pink-500 transition-colors">
                    <div className="flex items-center justify-between mb-2">
                      <div className="flex items-center gap-2">
                        <div className="h-8 w-8 rounded bg-pink-500/20 flex items-center justify-center">
                          <Briefcase className="h-4 w-4 text-pink-400" />
                        </div>
                        <p className="text-sm text-slate-400">الشركاء</p>
                      </div>
                      <Badge variant="outline" className="text-xs">Entity</Badge>
                    </div>
                    <p className="text-2xl font-bold text-white">{stats?.counts.partners || 0}</p>
                    <div className="mt-2 pt-2 border-t border-slate-600">
                      <div className="flex justify-between text-xs">
                        <span className="text-slate-400">متوسط/مستأجر</span>
                        <span className="text-white">
                          {stats?.counts.tenants > 0 
                            ? (stats?.counts.partners / stats?.counts.tenants).toFixed(1) 
                            : '0'}
                        </span>
                      </div>
                    </div>
                  </div>

                  {/* Wallets */}
                  <div className="p-4 rounded bg-slate-700/50 border border-slate-600 hover:border-cyan-500 transition-colors">
                    <div className="flex items-center justify-between mb-2">
                      <div className="flex items-center gap-2">
                        <div className="h-8 w-8 rounded bg-cyan-500/20 flex items-center justify-center">
                          <Wallet className="h-4 w-4 text-cyan-400" />
                        </div>
                        <p className="text-sm text-slate-400">المحافظ</p>
                      </div>
                      <Badge variant="outline" className="text-xs">Entity</Badge>
                    </div>
                    <p className="text-2xl font-bold text-white">{stats?.counts.wallets || 0}</p>
                    <div className="mt-2 pt-2 border-t border-slate-600">
                      <div className="flex justify-between text-xs">
                        <span className="text-slate-400">متوسط/مستأجر</span>
                        <span className="text-white">{stats?.metrics.avgWalletsPerTenant || '0'}</span>
                      </div>
                      <div className="flex justify-between text-xs mt-1">
                        <span className="text-slate-400">متوسط رصيد</span>
                        <span className="text-white">{formatCurrency(stats?.countsDetails.avgWalletBalance || 0)}</span>
                      </div>
                    </div>
                  </div>

                  {/* Transactions */}
                  <div className="p-4 rounded bg-slate-700/50 border border-slate-600 hover:border-rose-500 transition-colors">
                    <div className="flex items-center justify-between mb-2">
                      <div className="flex items-center gap-2">
                        <div className="h-8 w-8 rounded bg-rose-500/20 flex items-center justify-center">
                          <Activity className="h-4 w-4 text-rose-400" />
                        </div>
                        <p className="text-sm text-slate-400">المعاملات</p>
                      </div>
                      <Badge variant="outline" className="text-xs">Entity</Badge>
                    </div>
                    <p className="text-2xl font-bold text-white">{stats?.counts.transactions || 0}</p>
                    <div className="mt-2 pt-2 border-t border-slate-600">
                      <div className="flex justify-between text-xs">
                        <span className="text-slate-400">هذا الشهر</span>
                        <span className="text-white">{stats?.countsDetails.thisMonthTransactions || 0}</span>
                      </div>
                      <div className="flex justify-between text-xs mt-1">
                        <span className="text-slate-400">متوسط/محفظة</span>
                        <span className="text-white">{stats?.countsDetails.avgTransactionsPerWallet || '0'}</span>
                      </div>
                    </div>
                  </div>

                  {/* Categories */}
                  <div className="p-4 rounded bg-slate-700/50 border border-slate-600 hover:border-indigo-500 transition-colors">
                    <div className="flex items-center justify-between mb-2">
                      <div className="flex items-center gap-2">
                        <div className="h-8 w-8 rounded bg-indigo-500/20 flex items-center justify-center">
                          <Activity className="h-4 w-4 text-indigo-400" />
                        </div>
                        <p className="text-sm text-slate-400">التصنيفات</p>
                      </div>
                      <Badge variant="outline" className="text-xs">Entity</Badge>
                    </div>
                    <p className="text-2xl font-bold text-white">{stats?.counts.categories || 0}</p>
                    <div className="mt-2 pt-2 border-t border-slate-600">
                      <div className="flex justify-between text-xs">
                        <span className="text-slate-400">متوسط/مستأجر</span>
                        <span className="text-white">
                          {stats?.counts.tenants > 0 
                            ? (stats?.counts.categories / stats?.counts.tenants).toFixed(1) 
                            : '0'}
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </CardContent>
            </Card>

            {/* Warning Alert */}
            <Alert className="bg-red-900/30 border-red-800">
              <AlertTriangle className="h-4 w-4 text-red-400" />
              <AlertTitle className="text-white flex items-center gap-2">
                <Shield className="h-5 w-5" />
                منطقة خطرة
              </AlertTitle>
              <AlertDescription className="text-slate-300">
                هذه العمليات غير قابلة للتراجع. سيتم حذف جميع البيانات في قاعدة البيانات بشكل دائم.
                <br /><br />
                <strong>ملاحظة:</strong> سيتم حذف البيانات بالترتيب الصحيح لضمان سلامة قاعدة البيانات:
                <br />
                المعاملات ← التصنيفات ← الشركاء ← المستخدمين ← المحافظ ← الفروع ← الشركات ← المستأجرين
              </AlertDescription>
            </Alert>

            {/* Data Management Card */}
            <Card className="bg-red-900/20 border-red-800">
              <CardHeader>
                <CardTitle className="text-white flex items-center gap-2">
                  <Trash2 className="h-5 w-5 text-red-400" />
                  إدارة البيانات
                </CardTitle>
                <CardDescription className="text-slate-400">
                  حذف جميع البيانات من قاعدة البيانات
                </CardDescription>
              </CardHeader>
              <CardContent className="space-y-4">
                {/* Current Statistics */}
                <div className="p-4 rounded bg-red-900/10 border border-red-700">
                  <div className="flex items-center gap-2 mb-3">
                    <Database className="h-4 w-4 text-red-400" />
                    <h4 className="text-white font-semibold">البيانات الحالية</h4>
                  </div>
                  <div className="grid gap-2 md:grid-cols-4">
                    <div className="text-center">
                      <p className="text-2xl font-bold text-red-400">{stats?.counts.tenants || 0}</p>
                      <p className="text-xs text-slate-400">مستأجر</p>
                    </div>
                    <div className="text-center">
                      <p className="text-2xl font-bold text-red-400">{stats?.counts.companies || 0}</p>
                      <p className="text-xs text-slate-400">شركة</p>
                    </div>
                    <div className="text-center">
                      <p className="text-2xl font-bold text-red-400">{stats?.counts.users || 0}</p>
                      <p className="text-xs text-slate-400">مستخدم</p>
                    </div>
                    <div className="text-center">
                      <p className="text-2xl font-bold text-red-400">{stats?.counts.transactions || 0}</p>
                      <p className="text-xs text-slate-400">معاملة</p>
                    </div>
                  </div>
                </div>

                {/* Delete Dialog */}
                <Dialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>
                  <DialogTrigger asChild>
                    <Button variant="destructive" className="w-full" size="lg">
                      <Trash2 className="h-4 w-4 ml-2" />
                      حذف جميع البيانات
                    </Button>
                  </DialogTrigger>
                  <DialogContent>
                    <DialogHeader>
                      <DialogTitle className="text-red-500 flex items-center gap-2">
                        <AlertTriangle className="h-5 w-5" />
                        تأكيد حذف جميع البيانات
                      </DialogTitle>
                      <DialogDescription className="text-slate-400">
                        هل أنت متأكد تماماً من حذف جميع البيانات؟
                        <br /><br />
                        <strong className="text-red-400">هذا الإجراء غير قابل للتراجع!</strong>
                        <br /><br />
                        سيتم حذف البيانات بالترتيب الصحيح:
                        <div className="mt-3 p-3 rounded bg-red-900/20 border border-red-700">
                          <div className="flex items-center gap-2 mb-2">
                            <ArrowDownRight className="h-4 w-4 text-red-400" />
                            <strong className="text-white">الترتيب الصحيح للحذف:</strong>
                          </div>
                          <div className="space-y-1 text-sm">
                            <div className="flex items-center gap-2">
                              <span className="text-red-400 font-bold">1.</span>
                              <span className="text-white">المعاملات (Transactions)</span>
                            </div>
                            <div className="flex items-center gap-2">
                              <span className="text-red-400 font-bold">2.</span>
                              <span className="text-white">التصنيفات (Categories)</span>
                            </div>
                            <div className="flex items-center gap-2">
                              <span className="text-red-400 font-bold">3.</span>
                              <span className="text-white">الشركاء (Partners)</span>
                            </div>
                            <div className="flex items-center gap-2">
                              <span className="text-red-400 font-bold">4.</span>
                              <span className="text-white">المستخدمون (Users)</span>
                            </div>
                            <div className="flex items-center gap-2">
                              <span className="text-red-400 font-bold">5.</span>
                              <span className="text-white">المحافظ (Wallets)</span>
                            </div>
                            <div className="flex items-center gap-2">
                              <span className="text-red-400 font-bold">6.</span>
                              <span className="text-white">الفروع (Branches)</span>
                            </div>
                            <div className="flex items-center gap-2">
                              <span className="text-red-400 font-bold">7.</span>
                              <span className="text-white">الشركات (Companies)</span>
                            </div>
                            <div className="flex items-center gap-2">
                              <span className="text-red-400 font-bold">8.</span>
                              <span className="text-white">المستأجرون (Tenants)</span>
                            </div>
                          </div>
                        </div>
                      </DialogDescription>
                    </DialogHeader>
                    <DialogFooter>
                      <Button
                        variant="outline"
                        onClick={() => setDeleteDialogOpen(false)}
                      >
                        إلغاء
                      </Button>
                      <Button
                        variant="destructive"
                        onClick={handleDeleteAllData}
                      >
                        <Trash2 className="h-4 w-4 ml-2" />
                        نعم، احذف جميع البيانات
                      </Button>
                    </DialogFooter>
                  </DialogContent>
                </Dialog>
              </CardContent>
            </Card>
          </TabsContent>
